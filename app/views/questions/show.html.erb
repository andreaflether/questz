<div class="card my-4 question" id="question_<%= @question.id %>">
  <div class="card-header mt-2 bg-white">
    <p class="text-orange text-uppercase mb-2"><small><%= @question.status %> </small></p>

    <div class="d-flex mb-2">
      <% if @question.user.avatar? %>
        <%= image_tag(@question.user.avatar_url, 
          class: 'img-fluid rounded-circle user-avatar-50 me-2') %>
      <% else %>
        <%= image_tag 'no-avatar.png',
        class: 'img-fluid rounded-circle user-avatar-50 me-2 border' %>
      <% end %> 
      <div class="d-flex flex-column">
        <div class="card-title"><h4 class="question-title-show mb-1"><%= @question.title %></h4></div>
        <p class="text-muted mb-0 question-info">
          Asked by <span class="fw-bold text-orange"><%= @question.user.name %></span>
          <span class="question-date">
            on <b><%= format_datetime(@question.created_at) %></b>
            (<%= time_ago_in_words(@question.created_at) %> ago)
          </span>
          &nbsp;Â·&nbsp;
          <span>Viewed <%= pluralize(@question.impressions_count, 'time') %></span>
        </p>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="d-flex">
      <div class="d-flex flex-column align-items-center question-votes text-muted" data-user-vote=<%= user_vote(@question) %>>
        <div class="votes-up">
          <%= link_to upvote_question_path(@question),
            method: :patch,
            remote: true,
            class: 'text-muted vote-up' do %>
            <i class="fas fa-caret-up"></i>
          <% end %>
          <div class="w-100 votes-divider"></div>
          <span class="question-vote-up"><%= @question.cached_votes_up %></span>
        </div>
        <div class="votes-down mt-2">
          <span class="question-vote-down"><%= @question.cached_votes_down %></span>
          <div class="w-100 votes-divider"></div>
          <%= link_to downvote_question_path(@question),
            method: :patch,
            remote: true,
            class: 'text-muted vote-down' do %>
            <i class="fas fa-caret-down"></i>
          <% end %>
        </div>
      </div>
      <div class="d-flex flex-column ms-4">
        <p class="text-dark mt-1 mb-3 question-body"><%= @question.body %></p>
        <div class="tags">
          <% @question.tags.each do |tag| %>
            <%= link_to tag_in_questions_path(tag) do %>
              <span class="badge question-tag"><%= tag.name %></span>
            <% end %>
          <% end %>
        </div>
        <div class="question-actions small text-muted mt-3">
        <span class="share">
          <i class="fas fa-share-square"></i>&nbsp;Share
        </span>
        <span class="edit">
          <i class="fas fa-edit"></i>&nbsp;Edit
        </span>
        <span class="report">
          <i class="far fa-flag"></i>&nbsp;Report
        </span>
        </div>
      </div>
    </div>
  </div>
  <ul class="list-group list-group-flush bg-light">
    <h5 class="mt-3 ms-3"><%= @question.answers_count %> answers</h5>
    <%= render @question.answers %>
  </ul>
  <div class="card-footer d-flex flex-column text-dark">
    <div class="new-user-comment w-100 d-inline-flex align-items-center">
      <% if current_user.avatar? %>
        <%= image_tag(current_user.avatar_url, 
          class: 'img-fluid rounded-circle user-avatar me-2',
          id: 'user-avatar') %>
      <% else %>
        <%= image_tag 'http://paroquiasagradomerces.com.br/wp-content/uploads/2018/02/no-avatar.png',
        class: 'img-fluid rounded-circle user-avatar me-2', 
        id: 'user-avatar' %>
      <% end %> 
      
      <div class="input-group">
        <input class="form-control my-2" placeholder="Type your answer here"></input>
        <%= link_to 'Ok', '', class: 'btn btn-orange my-auto'%>
      </div>
    </div>
  </div>
</div>